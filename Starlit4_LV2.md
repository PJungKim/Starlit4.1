# Starlit 4 고급 설명서

- Starlit 4의 고급 기능을 정리했습니다.

*현재 제공되는 파일의 기능 중 #으로 시작하는 주석은 개발 단계에 있어 제공되지 않는점 양해 바랍니다.*

## 1. 자료형과 Reference

- Starlit 4에서는 Pointer라는 개념을 사용하지 않는다.
- Starlit에서는 Pointer 대신 Reference라는 개념을 사용하며, 이 Reference를 사용해 변수를 제어할 수 있다.

### 1.1. 변수의 레퍼런스값 구하는 코드

- 기본 문법 : `_(변수명)`

```Py
a = 1023
b = _a
```

- 여기서 b는  a의 레퍼런스를 저장하게 된다.
- 이때 b의 자료형은 `ref`형이 된다.
- 레퍼런스 값을 확인하기 위해서는 `val` 함수를 사용해보자.
- 화면에 표시할 때는 8자리의 16진수로 표시한다. 그렇지 않으면 자료 구조 특성상 4의 배수에 위치해 있는지 판단하기 어렵기 때문이다.

```Py
main:
    a = 1023
    b = _a
    c = val(b)
    OLED << f"ref = {c:08x}"
```

```C++
main(){
    a = 1023;
    b = _a;
    c = val(b);
    OLED << f"ref = {c:08x}";
}
```

### 1.2. 특정 위치의 변수 값 바꾸기

- Starlit에서는 특정 위치의 변수 값을 바꿀 수 있다.
- 아래 예제는 int 변수에 float값을 넣으면 어떤 값을 얻을 수 있을지 확인하는 예제이다.
  - `float(레퍼런스) = 값`의 형태로 특정 레퍼런스의 값을 변경할 수 있다.
```Py
main:
    a = 20
    b = _a
    float(b) = 1.5
    OLED << f"a = {a:08x}"
```
```C++
main(){
    a = 20;
    b = _a;
    float(b) = 1.5;
    OLED << f"a = {a:08x}";
}
```

### 1.3. 레퍼런스 변수

- 이번에는 값을 저장하는 것이 아닌 특정 레퍼런스를 참조하는 변수를 다뤄 본다.
- 레퍼런스 변수를 정의하기 전에 참조할 변수를 선정한 뒤 레퍼런스 변수를 통해 값을 바꿔보는 예제이다.
  - 레퍼런스 변수의 정의 : `b_ = _a`로, 좌변에는 새로 정의하는 변수+`_`, 우변은 참조되는 변수의 레퍼런스형인 `_a`꼴로 정의한다.
  - 레퍼런스 변수의 레퍼런스 값 : `_b_`
  - 레퍼런스 변수의 참조 위치 값 : `b`
  - `b_`를 정의하면 `_b`는 사용 불가능하다.
```Py
main:
    a = 20
    b_ = _a
    b = 1023
    OLED << f"a = {a}"
```
```C++
main(){
    a = 20;
    b_ = _a;
    b = 1023;
    OLED << f"a = {a}";
}
```

### 1.4. Call-by-Reference 함수

- 이번 예제는 Reference 값을 불러와서 두 정수의 값을 바꾸는 예제를 들어 본다.
  - 함수 정의할 때 `a = int`는 Call-by-value이고, `a = _int`는 Call-by-reference가 된다.
```Py
swap(a:_int, b:_int):
    temp = a
    a = b
    b = temp

main:
    a = 20
    b = 1023
    swap(a, b)
    OLED << f"a = {a}, b = {b}"
```
```C++
swap(a:_int, b:_int){
    temp = a;
    a = b;
    b = temp;
}

main(){
    a = 20;
    b = 1023;
    swap(a, b);
    OLED << f"a = {a}, b = {b}";
}
```

### 1.5. Return-by-Reference 함수

- 값을 반환할 때 레퍼런스를 반환하는 함수
- 함수를 정의할 때 `func():_int`꼴로 정의한다.
- **출력할 때는 값을 출력하는 것이 아닌 레퍼런스를 출력하는 것이므로 return의 자료형은 `ref`형이 되어야 한다.**

## 2. 배열과 반복 연산자

### 2.1. 배열의 정의

### 2.2. 배열의 사용

### 2.3. Reference 변수와 배열

### 2.4. 고차원 배열

## 3. 구조체와 Class

### 3.1. Class의 정의

### 3.2. Class의 사용

### 3.3. 구조체를 변수로 받는 함수

## 4. 객체의 Method와 연산자 오버로딩

### 4.1. Method 정의하기

### 4.2. 연산자 오버로딩




